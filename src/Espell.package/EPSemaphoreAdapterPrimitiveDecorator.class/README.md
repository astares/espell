I am a primitive decorator that transforms the internals of a semaphore to make it work.